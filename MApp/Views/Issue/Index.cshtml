@model List<MApp.Middleware.Models.IssueModel>
@{
    ViewBag.Title = "Issue Overvies";
}

<div class="page-header">
    <h2>Issue Overview</h2>
</div>

<table id="issueTable" class="tree table table-hover table-striped table-condensed">
    <thead>
        <tr>
            <th>Issue</th>
            <th>Status</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        @{
            var treegrid = "";
            foreach (var issue in Model)
            {
                treegrid = "treegrid-" + issue.Id;
                if (issue.Parent != null)
                {
                    treegrid = treegrid + " treegrid-parent-" + issue.Parent;
                }
                <tr class="@treegrid">
                    <td><a href="@Url.Action("Creating", "Issue", new { issueId = @issue.Id })">@issue.Title</a></td>
                    <td>@issue.Status</td>
                    <td>@issue.Description</td>
                </tr>
            }
        }
    </tbody>
</table>

<script type="text/javascript">

    $(document).ready(function () {
        $('.tree').treegrid();

        var element = document.getElementById("finished-menu");
        element.parentNode.removeChild(element);
        element = document.getElementById("brainstorming-menu");
        element.parentNode.removeChild(element);
        element = document.getElementById("creating-menu");
        element.parentNode.removeChild(element);
        element = document.getElementById("evaluating-menu");
        element.parentNode.removeChild(element);
    });
</script>